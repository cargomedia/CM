.select2-container {
  display: block;
}

.select2-container {
  .select2-choices {
    box-shadow: none;
    .textinput;

    .select2-search-choice {
      box-sizing: border-box;
      display: flex;
      align-items: center;
      height: @heightInputText - 8px;
      margin: 3px 3px 3px 0;
      padding: 3px (@heightInputText/4 - 2px);

      > * {
        display: flex;
        align-items: center;
      }

      .select2-search-choice-close {
        position: static;
        margin-left: 6px;
      }
    }

    .select2-search-field {
      width: 0;
    }
  }

  &.select2-container-active {
    .textinput {
      box-shadow: none;
      .input_focus;
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
    }
  }
}

.select2-drop {
  border-color: @colorInputFocus;

  &.select2-drop-above {
    border-top: 1px solid @colorInputFocus;
  }
}

.select2-container-multi .select2-search-choice-close {
  left: auto;
}

.select2-container-multi .select2-choices .select2-search-field input {
  padding: 0;
  margin: 0;
  height: @heightInputText - 2px;
}

.select2-results .select2-result-label {
  .nowrap;
}

.select2-container .select2-choice abbr {
  background: image('select2/select2.png') right top no-repeat;
}

.select2-container .select2-choice .select2-arrow b {
  background: image('select2/select2.png') no-repeat 0 1px;
}

.select2-search input {
  background: #fff image('select2/select2.png') no-repeat 100% -22px;
  background: image('select2/select2.png') no-repeat 100% -22px, -webkit-gradient(linear, left bottom, left top, color-stop(0.85, #fff), color-stop(0.99, #eee));
  background: image('select2/select2.png') no-repeat 100% -22px, -webkit-linear-gradient(center bottom, #fff 85%, #eee 99%);
  background: image('select2/select2.png') no-repeat 100% -22px, -moz-linear-gradient(center bottom, #fff 85%, #eee 99%);
  background: image('select2/select2.png') no-repeat 100% -22px, linear-gradient(to bottom, #fff 85%, #eee 99%) 0 0;
}

.select2-search input.select2-active {
  background: #fff image('select2/select2-spinner.gif') no-repeat 100%;
  background: image('select2/select2-spinner.gif') no-repeat 100%, -webkit-gradient(linear, left bottom, left top, color-stop(0.85, #fff), color-stop(0.99, #eee));
  background: image('select2/select2-spinner.gif') no-repeat 100%, -webkit-linear-gradient(center bottom, #fff 85%, #eee 99%);
  background: image('select2/select2-spinner.gif') no-repeat 100%, -moz-linear-gradient(center bottom, #fff 85%, #eee 99%);
  background: image('select2/select2-spinner.gif') no-repeat 100%, linear-gradient(to bottom, #fff 85%, #eee 99%) 0 0;
}

.select2-more-results.select2-active {
  background: #f4f4f4 image('select2/select2-spinner.gif') no-repeat 100%;
}

.select2-container-multi .select2-choices .select2-search-field input.select2-active {
  background: transparent image('select2/select2-spinner.gif') no-repeat 100% !important;
}

.select2-search-choice-close {
  background: image('select2/select2.png') right top no-repeat;
}

/* Retina-ize icons */
@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (min-resolution: 2dppx) {
  .select2-search input,
  .select2-search-choice-close,
  .select2-container .select2-choice abbr,
  .select2-container .select2-choice .select2-arrow b {
    background-image: image('select2/select2x2.png') !important;
  }
}

/* Custom item */
.select2-item {
  position: relative;
  min-height: 16px;
  padding-left: 18px;

  .select2-item-image {
    height: 16px;
    width: 16px;
    position: absolute;
    left: -2px;
    top: 0;
    vertical-align: top;
    text-align: right;

    img {
      max-width: 100%;
      max-height: 100%;
    }
  }

  .select2-item-name {
    display: block;
  }

  .select2-item-description {
    display: block;
  }
}

.select2-choices {
  .select2-item-image {
    width: 16px;
    display: inline-block;
    margin-right: 6px;

    img {
      display: block;
      max-width: 100%;
      max-height: 100%;
    }
  }
}
